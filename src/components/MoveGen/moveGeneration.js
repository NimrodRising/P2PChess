// import { maskRank, maskFile, piece } from "./utils";

const maskRank = [
  0b0000000000000000000000000000000000000000000000000000000011111111n,
  0b0000000000000000000000000000000000000000000000001111111100000000n,
  0b0000000000000000000000000000000011111111000000000000000000000000n,
  0b0000000000000000000000001111111100000000000000000000000000000000n,
  0b0000000000000000111111110000000000000000000000000000000000000000n,
  0b0000000011111111000000000000000000000000000000000000000000000000n,
  0b1111111100000000000000000000000000000000000000000000000000000000n,
];

const maskFile = [
  0b1000000010000000100000001000000010000000100000001000000010000000n,
  0b0100000001000000010000000100000001000000010000000100000001000000n,
  0b0010000000100000001000000010000000100000001000000010000000100000n,
  0b0001000000010000000100000001000000010000000100000001000000010000n,
  0b0000100000001000000010000000100000001000000010000000100000001000n,
  0b0000010000000100000001000000010000000100000001000000010000000100n,
  0b0000001000000010000000100000001000000010000000100000001000000010n,
  0b0000000100000001000000010000000100000001000000010000000100000001n,
];

const piece = [
  0b1000000000000000000000000000000000000000000000000000000000000000n,
  0b0100000000000000000000000000000000000000000000000000000000000000n,
  0b0010000000000000000000000000000000000000000000000000000000000000n,
  0b0001000000000000000000000000000000000000000000000000000000000000n,
  0b0000100000000000000000000000000000000000000000000000000000000000n,
  0b0000010000000000000000000000000000000000000000000000000000000000n,
  0b0000001000000000000000000000000000000000000000000000000000000000n,
  0b0000000100000000000000000000000000000000000000000000000000000000n,
  0b0000000010000000000000000000000000000000000000000000000000000000n,
  0b0000000001000000000000000000000000000000000000000000000000000000n,
  0b0000000000100000000000000000000000000000000000000000000000000000n,
  0b0000000000010000000000000000000000000000000000000000000000000000n,
  0b0000000000001000000000000000000000000000000000000000000000000000n,
  0b0000000000000100000000000000000000000000000000000000000000000000n,
  0b0000000000000010000000000000000000000000000000000000000000000000n,
  0b0000000000000001000000000000000000000000000000000000000000000000n,
  0b0000000000000000100000000000000000000000000000000000000000000000n,
  0b0000000000000000010000000000000000000000000000000000000000000000n,
  0b0000000000000000001000000000000000000000000000000000000000000000n,
  0b0000000000000000000100000000000000000000000000000000000000000000n,
  0b0000000000000000000010000000000000000000000000000000000000000000n,
  0b0000000000000000000001000000000000000000000000000000000000000000n,
  0b0000000000000000000000100000000000000000000000000000000000000000n,
  0b0000000000000000000000010000000000000000000000000000000000000000n,
  0b0000000000000000000000001000000000000000000000000000000000000000n,
  0b0000000000000000000000000100000000000000000000000000000000000000n,
  0b0000000000000000000000000010000000000000000000000000000000000000n,
  0b0000000000000000000000000001000000000000000000000000000000000000n,
  0b0000000000000000000000000000100000000000000000000000000000000000n,
  0b0000000000000000000000000000010000000000000000000000000000000000n,
  0b0000000000000000000000000000001000000000000000000000000000000000n,
  0b0000000000000000000000000000000100000000000000000000000000000000n,
  0b0000000000000000000000000000000010000000000000000000000000000000n,
  0b0000000000000000000000000000000001000000000000000000000000000000n,
  0b0000000000000000000000000000000000100000000000000000000000000000n,
  0b0000000000000000000000000000000000010000000000000000000000000000n,
  0b0000000000000000000000000000000000001000000000000000000000000000n,
  0b0000000000000000000000000000000000000100000000000000000000000000n,
  0b0000000000000000000000000000000000000010000000000000000000000000n,
  0b0000000000000000000000000000000000000001000000000000000000000000n,
  0b0000000000000000000000000000000000000000100000000000000000000000n,
  0b0000000000000000000000000000000000000000010000000000000000000000n,
  0b0000000000000000000000000000000000000000001000000000000000000000n,
  0b0000000000000000000000000000000000000000000100000000000000000000n,
  0b0000000000000000000000000000000000000000000010000000000000000000n,
  0b0000000000000000000000000000000000000000000001000000000000000000n,
  0b0000000000000000000000000000000000000000000000100000000000000000n,
  0b0000000000000000000000000000000000000000000000010000000000000000n,
  0b0000000000000000000000000000000000000000000000001000000000000000n,
  0b0000000000000000000000000000000000000000000000000100000000000000n,
  0b0000000000000000000000000000000000000000000000000010000000000000n,
  0b0000000000000000000000000000000000000000000000000001000000000000n,
  0b0000000000000000000000000000000000000000000000000000100000000000n,
  0b0000000000000000000000000000000000000000000000000000010000000000n,
  0b0000000000000000000000000000000000000000000000000000001000000000n,
  0b0000000000000000000000000000000000000000000000000000000100000000n,
  0b0000000000000000000000000000000000000000000000000000000010000000n,
  0b0000000000000000000000000000000000000000000000000000000001000000n,
  0b0000000000000000000000000000000000000000000000000000000000100000n,
  0b0000000000000000000000000000000000000000000000000000000000010000n,
  0b0000000000000000000000000000000000000000000000000000000000001000n,
  0b0000000000000000000000000000000000000000000000000000000000000100n,
  0b0000000000000000000000000000000000000000000000000000000000000010n,
  0b0000000000000000000000000000000000000000000000000000000000000001n,
];

let whitePawns =
  0b0000000000000000000000000000000000000000000000001111111100000000n;
let whiteRooks =
  0b0000000000000000000000000000000000000000000000000000000010000001n;
let whiteKnights =
  0b0000000000000000000000000000000000000000000000000000000001000010n;
let whiteBishops =
  0b0000000000000000000000000000000000000000000000000000000000100100n;
let whiteQueens =
  0b0000000000000000000000000000000000000000000000000000000000001000n;
let whiteKing =
  0b0000000000000000000000000000000000000000000000000000000000010000n;
let blackPawns =
  0b0000000011111111000000000000000000000000000000000000000000000000n;
let blackRooks =
  0b1000000100000000000000000000000000000000000000000000000000000000n;
let blackKnights =
  0b0100001000000000000000000000000000000000000000000000000000000000n;
let blackBishops =
  0b0010010000000000000000000000000000000000000000000000000000000000n;
let blackQueens =
  0b0000100000000000000000000000000000000000000000000000000000000000n;
let blackKing =
  0b0001000000000000000000000000000000000000000000000000000000000000n;

let allWhitePieces =
  whitePawns |
  whiteRooks |
  whiteKnights |
  whiteBishops |
  whiteQueens |
  whiteKing;
let allBlackPieces =
  blackPawns |
  blackRooks |
  blackKnights |
  blackBishops |
  blackQueens |
  blackKing;
let allPieces = allWhitePieces | allBlackPieces;
allPieces;

// take position -> output legal moves
function generatePawnMoves(whitePawns, blackPieces, allPieces) {
  const whitePawnOneStep = (whitePawns << 8n) & ~allPieces;
  console.log(whitePawnOneStep.toString(2));
  const whitePawnTwoStep = (whitePawnOneStep << 8n) & maskRank[2] & ~allPieces;
  console.log(whitePawnTwoStep.toString(2));
  const whiteMoves = whitePawnOneStep | whitePawnTwoStep;
  return whiteMoves.toString(2);
}

console.log(generatePawnMoves(whitePawns, allBlackPieces, allPieces));
